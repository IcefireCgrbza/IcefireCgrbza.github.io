---
title: 9. AVL树
date: 2021-03-10 21:08:36
tags: 一、算法与数据结构
categories: 一、算法与数据结构
---

# 算法简介

我们想象一下，如果将一个有序数组依序添加到二叉树中，那么这颗树的所有节点都会集中到一个方向，类似链表；这种情况下，二叉树的搜索会退化为链表的搜索

为了避免这种情况，就有了平衡树。AVL树就是一种平衡树，树上任意节点的左节点和右节点深度相差都不大于1

<!-- more -->

### 添加节点

AVL树添加节点流程和二叉树一致，当AVL树失衡时，通过旋转失衡最小子树，可以让AVL树重新达到平衡

失衡分为四种情况：

+ LL：左子树深度大于右子树深度，且左孩子的左子树深度大于右子树深度
+ LR：左子树深度大于右子树深度，且左孩子的右子树深度大于左子树深度
+ RR：右子树深度大于左子树深度，且右孩子的右子树深度大于左子树深度
+ RL：右子树深度大于左子树深度，且右孩子的左子树深度大于右子树深度

##### LL

右旋即可

![](https://icefirecgrbza.github.io/img/algo/avl_tree_ll.webp)

##### RR

左旋即可

![](https://icefirecgrbza.github.io/img/algo/avl_tree_rr.webp)

##### LR

左孩子左旋，可将LR转换为LL

##### RL

右孩子右旋，可将RL转换为RR

### 删除节点

删除节点也是建立在二叉树节点的删除之上的，节点删除后，同样需要对AVL树进行重新平衡。和添加节点不同的是，添加节点往往只需要一次平衡即可使AVL树重新达到平衡，而删除节点后，如果我们删除了树深度较小的子树的节点，平衡后会导致数深度更小，因此需要在父节点再做平衡，直到AVL树达到平衡

![](https://icefirecgrbza.github.io/img/algo/avl_tree_del1.jpg)

![](https://icefirecgrbza.github.io/img/algo/avl_tree_del2.jpg)